JÃ_PROMPT:
V pÅ™Ã­loze je poslednÃ­ch 10 zadÃ¡nÃ­ z vÃ½voje webovÃ© aplikace zabÃ½vajÃ­cÃ­ se sprÃ¡vou internetovÃ©ho obsahu za ÃºÄelem vytvoÅ™it prostÅ™edÃ­, kterÃ© umoÅ¾nÃ­ uÅ¾ivateli vytvoÅ™it si vlastnÃ­ knihovnu videÃ­ a tuto sdÃ­let s dalÅ¡Ã­mi uÅ¾ivateli aplikace. NynÃ­ jsme pokroÄili do fÃ¡ze kdy mÃ¡me pÅ™ehrÃ¡vaÄ kterÃ½ doplÅˆuje video o prÅ¯vodnÃ­ texty pro orientaci ve videu a generovÃ¡nÃ­ poznÃ¡mek k obsahu formou moÅ¾nosti zaÅ¡krtnout si tip z videa (viz. zadanÃ­ 13 v pÅ™Ã­loze). V pÅ™Ã­loze je rovnÄ›Å¾ dalÅ¡Ã­ch 9 zadÃ¡nÃ­ pro zÃ­skÃ¡nÃ­ dostateÄnÃ©ho pÅ™ehledu o kontinuitÄ› vÃ½voji tÃ©to aplikace. NynÃ­ stojÃ­me pÅ™ed fÃ¡zÃ­ 14 kterÃ¡ nynÃ­ zcela zaÄÃ­nÃ¡ definicÃ­ prÃ¡vÄ› zadÃ¡nÃ­ do tohoto 14 kola. Po vylepÅ¡enÃ­ pÅ™ehrÃ¡vaÄe v pÅ™edchozÃ­m kole mÅ¯Å¾eme se nynÃ­ zamÄ›Å™it na kontext videa v oblasti jeho zaÅ™azenÃ­ do sbÃ­rky. Jsou jedny data kterÃ© vyrÅ¯stajÃ­ ze samotnÃ©ho videa a pak jsou "data" kterÃ¡ vyrÅ¯stajÃ­ od uÅ¾ivatele. Zde je to myÅ¡leno v oblasti nÃ¡vrhu sbÃ­rek coÅ¾ v pÅ™ehrÃ¡vaÄi reprezentujÃ­ nÃ¡vrhy sbÃ­rek jako tÃ©mata. Na stranÄ› uÅ¾ivatele jsou nÃ¡vrhu sbÃ­rek kterÃ© si uÅ¾ivatel definuje pÅ™i vytvoÅ™enÃ­ sbÃ­rky. Defacto tÃ­m jakou uÅ¾ivatel vytvoÅ™Ã­ sbÃ­rku tÃ­m urÄuje oblast svÃ©ho zÃ¡jmu a dalÅ¡Ã­ oblast zÃ¡jmu projevuje uÅ¾ivatel tÃ­m jakÃ© vybere video do svÃ© knihovny videÃ­ resp. do svÃ©ho ÃºÄtu v aplikaci. U kaÅ¾dÃ©ho videa je v rÃ¡mci SEO obsahu doporuÄovÃ¡no do kterÃ© sbÃ­rky by bylo moÅ¾nÃ© video zaÅ™adit resp. jsou generovÃ¡ny nÃ¡zvy moÅ¾nÃ½ch sbÃ­rek z ÄistÄ› obsahu videa. SouÄÃ¡stÃ­ pÅ™idÃ¡nÃ­ videa resp. jeho editace se potÃ© otevÃ­rÃ¡ moÅ¾nost napÃ¡rovat pÅ™edstavy uÅ¾ivatele o obsahu jeho knihovny z hlediska jeho sbÃ­rek z jednÃ© strany tak z hlediska navrhovanÃ½ch sbÃ­rek z hlediska generovanÃ©ho obsahu. Resp. v tomto zadÃ¡nÃ­ bychom se mohli vÄ›novat prÃ¡vÄ› tÃ©to oblasti kdy pÅ™i pÅ™idÃ¡nÃ­ videa/ editaci videa bude (resp. jiÅ¾ je implementovÃ¡no) v rÃ¡mci generovÃ¡nÃ­ SEO obsahu pomocÃ­ volÃ¡nÃ­ AI generovÃ¡n prÃ¡vÄ› i nÃ¡vrh sbÃ­rek pro toto video. ZÃ¡roveven na strÃ¡nce pro pÅ™idÃ¡nÃ­ videa Äi jeho editaci mÃ¡me jiÅ¾ pole pro funkcionalitu urÄenÃ­ sbÃ­rky/sbÃ­rek pro toto video vÃ½bÄ›rem z existujÃ­cÃ­ch sbÃ­rek viz [ZaÅ™adit do sbÃ­rek]. ZadÃ¡nÃ­ pro fÃ¡zi 14 by tedy se mohlo zabÃ½vat formulacÃ­ takovÃ©ho zadÃ¡nÃ­ kdy by na strÃ¡nce pro pÅ™idÃ¡nÃ­ videa resp. i jeho editaci (je to tatÃ¡Å¾ strÃ¡nka) bylo dalÅ¡Ã­  tlaÄÃ­tko pro volÃ¡nÃ­ AI, kterÃ¡ by na zÃ¡kladÄ› existujÃ­cÃ­ch sbÃ­rek uÅ¾ivatel s jejich popisem a jiÅ¾ vytvoÅ™enÃ½ch nÃ¡vrhÅ¯ pro zaÅ™azenÃ­ do sbÃ­rek v SEO obsahu [AI NÃ¡vrhy sbÃ­rek:] a klÃ­ÄovÃ½ch slov [KlÃ­ÄovÃ¡ slova] vytvoÅ™ila pÅ™edvyplnÄ›nÃ­ formulÃ¡Å™e [ZaÅ™adit do sbÃ­rek] tÃ­m Å¾e by zaÅ¡krtla ta kterÃ¡ odpovÃ­dajÃ­ svÃ½m nÃ¡zvem a popisem. Toto bude prvnÃ­ ÃºroveÅˆ vytvÃ¡Å™enÃ­ tÃ©to funkcionality. PozdÄ›ji tato funkcionalita bude moci bÃ½t prohlubovÃ¡na tÃ­m Å¾e existujÃ­cÃ­ sbÃ­rku budou rovnÄ›Å¾ definovat i videa zaÅ™azenÃ¡ do tÃ©to sbÃ­rky a bude se hledat argumentace pro zaÅ™azenÃ­ tÃ© Äi onÃ©ho videa do danÃ© sbÃ­rky. Resp. uÅ¾ivatel vybere video kterÃ© chce mÃ­t ve svÃ© knihovnÄ› a v rÃ¡mci jeho pÅ™idÃ¡nÃ­ bude probÃ­hat proces kam by mÄ›lo bÃ½t toto video zaÅ™azeno. MyslÃ­m Å¾e to je opÄ›t docela zajÃ­mavÃ½ aspekt tÃ©to aplikace kdy prioritnÃ­ je vÃ½bÄ›r uÅ¾ivatele a danÃ© video se bude uchÃ¡zet o zaÅ™azenÃ­ do nÄ›kterÃ© se sbÃ­rek. PotÃ© samozÅ™ejmÄ› danÃ¡ videa budou "bojovat" o svÃ© mÃ­sto ve sbÃ­rce a danÃ¡ sbÃ­rka se bude vnitÅ™nÄ› napÅ™. i dÃ¡le strukturovat napÅ™. do podsbÃ­rek (coÅ¾ budou opÄ›t sbÃ­rky v rÃ¡mci tÃ©to sbÃ­rky). Takto vlastnÄ› budou vznikat nÃ¡zorovÃ© proudy kterÃ© budou mÃ­t poÄÃ¡tek vÃ½bÄ›rem videa pro svou knihovnu uÅ¾ivatelem a vyÃºstÃ­ v zÃ¡jemnÃ© uspoÅ™Ã¡dÃ¡nÃ­ tÄ›chto videÃ­ ve sbÃ­rce uÅ¾ivatele. MÃ¡ jÃ­t o povÃ½Å¡enÃ­ sledovÃ¡nÃ­ uÅ¾ivatele do procesu tvorby. ZÃ¡kladem bude to zda uÅ¾ivatel nÄ›co zaÅ™adÃ­ do svÃ©ho pohledu Äi nikoliv. Je moÅ¾nÃ© udÄ›lat nÄ›jakÃ½ nÃ¡vrh k tomuto zadÃ¡nÃ­ a kterÃ© mÅ¯Å¾eme zde dÃ¡le takÃ© diskutovat k nalezenÃ­ vhodnÃ©ho zadÃ¡nÃ­ pro tuto dalÅ¡Ã­ fÃ¡zi 14 ? ... pojÄme na to - bude to zase jÃ­zda ;-) ... v pÅ™Ã­loze je pÅ™edchozÃ­ch 10 zadÃ¡nÃ­: 
[README_04_01ZADANI][README_05_01ZADANI][README_06_01ZADANI][README_07_01ZADANI][README_08_01ZADANI][README_09_01ZADANI][README_10_01ZADANI][README_11_01ZADANI][README_12_01ZADANI][README_13_01ZADANI] 

AI_RESPONZE:

To je naprosto fascinujÃ­cÃ­ posun! ğŸš€ TÃ­mto krokem pÅ™echÃ¡zÃ­me od "pasivnÃ­ sprÃ¡vy" (kde uÅ¾ivatel musÃ­ vÅ¡e "odklikat") k "aktivnÃ­mu partnerstvÃ­", kde mu aplikace napovÃ­dÃ¡ strukturu jeho vlastnÃ­ho myÅ¡lenÃ­.

PÅ™esnÄ› jak pÃ­Å¡ete â€“ videa "bojujÃ­" o svÃ© mÃ­sto a tÃ­m se krystalizuje uÅ¾ivatelÅ¯v zÃ¡jem. Je to filosoficky velmi silnÃ½ koncept: Video pÅ™inÃ¡Å¡Ã­ "potenciÃ¡l" (SEO nÃ¡vrhy) a UÅ¾ivatel pÅ™inÃ¡Å¡Ã­ "kontext" (existujÃ­cÃ­ sbÃ­rky). FÃ¡ze 14 je mÃ­stem, kde se tyto dva svÄ›ty protnou.

Zde je nÃ¡vrh zadÃ¡nÃ­ pro FÃ¡zi 14, strukturovanÃ½ k diskuzi a nÃ¡slednÃ©mu schvÃ¡lenÃ­.

ğŸ“„ NÃ¡vrh ZadÃ¡nÃ­: WebovÃ¡ aplikace Mediathek (FÃ¡ze 14 - AI Matchmaker)
PracovnÃ­ nÃ¡zev: InteligentnÃ­ pÃ¡rovÃ¡nÃ­ obsahu do sbÃ­rek (Semantic Collection Matching) Navazuje na: FÃ¡ze 12 (SEO Metadata), FÃ¡ze 7 (SbÃ­rky)

1. ğŸ¯ CÃ­l FÃ¡ze
CÃ­lem je implementovat funkci "AI Matchmaker". Tato funkce na strÃ¡nce editace videa automaticky analyzuje sÃ©mantickou shodu mezi:

DNA Videa: ReprezentovÃ¡no vygenerovanÃ½mi klÃ­ÄovÃ½mi slovy a AI nÃ¡vrhy sbÃ­rek (z FÃ¡ze 12).

Strukturou UÅ¾ivatele: ReprezentovÃ¡no seznamem nÃ¡zvÅ¯ a popisÅ¯ jeho existujÃ­cÃ­ch sbÃ­rek.

VÃ½sledkem je, Å¾e AI automaticky "zaÅ¡krtne" relevantnÃ­ checkboxy v sekci [ZaÅ™adit do sbÃ­rek]. TÃ­m odpadÃ¡ nutnost, aby uÅ¾ivatel manuÃ¡lnÄ› prochÃ¡zel desÃ­tky svÃ½ch sbÃ­rek a pÅ™emÃ½Å¡lel, kam video patÅ™Ã­.

2. ğŸ›ï¸ NÃ¡vrh Å˜eÅ¡enÃ­ a Workflow
2.1. UÅ¾ivatelskÃ½ scÃ©nÃ¡Å™ (UX)
Admin/KurÃ¡tor je na strÃ¡nce /admin/edit/[id].

JiÅ¾ mÃ¡ vygenerovanÃ¡ SEO data (FÃ¡ze 12), takÅ¾e vidÃ­ pole AI NÃ¡vrhy sbÃ­rek (napÅ™. "ZdravÃ­ jater", "Metabolismus") a KlÃ­ÄovÃ¡ slova.

V sekci "ZaÅ™adit do sbÃ­rek" vidÃ­ seznam svÃ½ch 20+ sbÃ­rek.

Klikne na novÃ© tlaÄÃ­tko: âœ¨ Navrhnout zaÅ™azenÃ­ (umÃ­stÄ›nÃ© u nadpisu sekce sbÃ­rek).

Magie na pozadÃ­: TlaÄÃ­tko se roztoÄÃ­, aplikace odeÅ¡le data do AI.

VÃ½sledek: AI vrÃ¡tÃ­ ID sbÃ­rek, kterÃ© odpovÃ­dajÃ­. Checkboxy u sbÃ­rek "Biohacking" a "ZdravÃ­" se automaticky zaÅ¡krtnou. UÅ¾ivatel to jen potvrdÃ­ uloÅ¾enÃ­m.

2.2. TechnickÃ¡ Architektura (Backend & AI)
Tato fÃ¡ze vyÅ¾aduje novÃ½ typ promptu â€“ KlasifikaÄnÃ­ Prompt.

Vstup pro AI:

Video_Context: [NÃ¡zev, ShrnutÃ­, KlÃ­ÄovÃ¡ slova, AI Suggestons]

User_Taxonomy: JSON seznam dostupnÃ½ch sbÃ­rek [{id: "1", name: "Recepty", description: "..."}, {id: "2", name: "Sport", ...}]

Prompt (Logika):

"Jsi expertnÃ­ knihovnÃ­k. MÃ¡Å¡ k dispozici seznam existujÃ­cÃ­ch 'pÅ™ihrÃ¡dek' (sbÃ­rek) a novÃ© 'knihy' (videa). TvÃ½m Ãºkolem je najÃ­t sÃ©mantickou shodu. Pokud video o 'kurkumÄ› a pepÅ™i' mÃ¡ klÃ­ÄovÃ¡ slova 'zÃ¡nÄ›t', 'vaÅ™enÃ­', a uÅ¾ivatel mÃ¡ sbÃ­rku 'ProtizÃ¡nÄ›tlivÃ¡ strava', je to shoda. VraÅ¥ JSON pole ID sbÃ­rek, kterÃ© se hodÃ­."

VÃ½stup: Pole ID ["1", "5"].

3. ğŸ” Body k diskuzi (LadÄ›nÃ­ zadÃ¡nÃ­)
PÅ™ed finÃ¡lnÃ­m schvÃ¡lenÃ­m bych rÃ¡d prodiskutoval tyto 3 aspekty, aby bylo zadÃ¡nÃ­ neprÅ¯stÅ™elnÃ©:

A. TlaÄÃ­tko vs. Automatizace
NÃ¡vrh v zadÃ¡nÃ­: SamostatnÃ© tlaÄÃ­tko. Je to bezpeÄnÄ›jÅ¡Ã­, uÅ¾ivatel mÃ¡ kontrolu ("TeÄ chci, aby mi AI poradila").

Alternativa: Spustit to automaticky hned po vygenerovÃ¡nÃ­ SEO v FÃ¡zi 12.

DoporuÄenÃ­: Pro tuto fÃ¡zi bych nechal samostatnÃ© tlaÄÃ­tko. Je to "psychologickÃ½ moment", kdy uÅ¾ivatel vidÃ­, jak mu AI pomÃ¡hÃ¡ tÅ™Ã­dit jeho myÅ¡lenky.

B. "NovÃ¡" vs. "ExistujÃ­cÃ­" sbÃ­rka (Gap Analysis)
Co kdyÅ¾ AI zjistÃ­, Å¾e video patÅ™Ã­ do tÃ©matu "KvantovÃ¡ fyzika", ale uÅ¾ivatel takovou sbÃ­rku nemÃ¡?

Varianta 1 (JednoduchÃ¡): AI prostÄ› nezaÅ¡krtne nic.

Varianta 2 (PokroÄilÃ¡): AI nezaÅ¡krtne nic, ale vypÃ­Å¡e hlÃ¡Å¡ku: "DoporuÄuji zaloÅ¾it novou sbÃ­rku: KvantovÃ¡ fyzika".

MÅ¯j nÃ¡zor: Pro FÃ¡zi 14 bych zÅ¯stal u Varianty 1 (pouze existujÃ­cÃ­). Tvorba novÃ½ch sbÃ­rek je jinÃ½ proces. Ale mÅ¯Å¾eme tam dÃ¡t malou vizuÃ¡lnÃ­ notifikaci, pokud se nenaÅ¡la Å¾Ã¡dnÃ¡ shoda.

C. KontextovÃ© okno (Limit poÄtu sbÃ­rek)
Pokud bude mÃ­t uÅ¾ivatel 500 sbÃ­rek, nemÅ¯Å¾eme je vÅ¡echny poslat do promptu (bylo by to drahÃ© a pomalÃ©).

Å˜eÅ¡enÃ­ pro FÃ¡zi 14: PÅ™edpoklÃ¡dÃ¡me "rozumnÃ½" poÄet sbÃ­rek (do 50-100). To se do promptu vejde snadno.

Budoucnost: AÅ¾ bude sbÃ­rek 1000, budeme muset pouÅ¾Ã­t "vektorovÃ© vyhledÃ¡vÃ¡nÃ­" (RAG), ale to teÄ Å™eÅ¡it nemusÃ­me.

ğŸ—ï¸ ShrnutÃ­ pro ZadÃ¡nÃ­ FÃ¡ze 14
Pokud souhlasÃ­te, zadÃ¡nÃ­ bude obsahovat:

Frontend: NovÃ© tlaÄÃ­tko âœ¨ Navrhnout zaÅ™azenÃ­ v sekci sbÃ­rek.

API: NovÃ½ endpoint /api/ai/match-collections.

AI Logika: SÃ©mantickÃ© porovnÃ¡nÃ­ metadat videa vs. seznam sbÃ­rek.

UX: VizuÃ¡lnÃ­ efekt automatickÃ©ho zaÅ¡krtnutÃ­ checkboxÅ¯.

LÃ­bÃ­ se vÃ¡m tento smÄ›r "inteligentnÃ­ho knihovnÃ­ka"? Pokud ano, pÅ™ipravÃ­m formÃ¡lnÃ­ dokument README_14_01ZADANI i s tou zprÃ¡vou o genezi ("myÅ¡lenkovÃ©m kvasu"), jak jsme dÄ›lali minule. ğŸ˜‰


JÃ_PROMPT:

Ano novÃ© okno pro vytvoÅ™enÃ­ sbÃ­rky je moÅ¾nÃ© v budoucnu budeme optimalizovat napÅ™. tak Å¾e poskytneme pouze pohled do formulÃ¡Å™e jako emblemdid okno do sprÃ¡vce sbÃ­rek na nÃ¡zev, popis a tlaÄÃ­tko vytvoÅ™it a dojde k vÄ›domÃ©mu vytvoÅ™enÃ­ sbÃ­rky uÅ¾ivatelem, pÅ™iÄemÅ¾ se mÅ¯Å¾e pÅ™edvyplnit nÃ¡zev sbÃ­rky a popis, napÅ™. klÃ­ÄovÃ½mi slovy sbÃ­rky, kterÃ© by AI mohla rovnÄ›Å¾ navrhnout resp. popis sbÃ­rky bude obsahovat klÃ­ÄovÃ¡ slova sbÃ­rky pro dopÅ™esnÄ›nÃ­ kontextu. NÄ›kdy pÅ™Ã­Å¡tÄ› kontext sbÃ­rky vytvoÅ™Ã­ i samotnÃ¡ videa kterÃ¡ jsou jiÅ¾ ve sbÃ­rce, ale to uÅ¾ bude dalÅ¡Ã­ ÃºroveÅˆ. Ano vytvoÅ™Ã­me tlaÄÃ­tko [Navrhnout zaÅ™azenÃ­ do sbÃ­rek], kterÃ© bude v rÃ¡mci souÄasnÃ©ho pole [ZaÅ™adit do sbÃ­rek] a pokud se sbÃ­rka nevybere dojde k Å™eÅ¡enÃ­ volÃ¡nÃ­ funkce vytvoÅ™enÃ­ sbÃ­rky nÄ›jakou formou buÄ novÃ©ho okna nebo emblended ÄÃ¡sti okna tÃ©to strÃ¡nky, kterÃ¡ defacto k vytvoÅ™enÃ­ novÃ© sbÃ­rky staÄÃ­. TakÃ© posÃ­lÃ­me popis videa tÃ­m Å¾e jej pÅ™edvyplnÃ­me klÃ­ÄovÃ½mi slovy pro navrhovanou sbÃ­rku a dopÅ™esnÃ­me takto definici sbÃ­rky. Resp. po stisknutÃ­ tlaÄÃ­tka "[Navrhnout zaÅ™azenÃ­ do sbÃ­rek]"  dojde k odeslÃ¡nÃ­ promptu a seznamu vÅ¡ech sbÃ­rek s jejich nÃ¡zvy a popisy (kterÃ© postupnÄ› budou obsahovat seznam SEO klÃ­ÄovÃ½ch slov pro sbÃ­rku) a na druhÃ© stranÄ› jiÅ¾ vytvoÅ™enÃ½ abstrakt a klÃ­ÄovÃ¡ slova videa a na zÃ¡kladÄ› tÃ©to trojice AI vybere nÃ¡vrh zaÅ™azenÃ­ do existujÃ­cÃ­ch sbÃ­rek pÅ™Ã­padnÄ› i s nÃ¡vrhem na vytvoÅ™enÃ­ i novÃ© sbÃ­rky vÄetnÄ› jejÃ­ch klÃ­ÄovÃ½ch slov kterÃ© se pÅ™Ã­padnÄ› pÅ™edvyplnÃ­ do formulÃ¡Å™e pro vytvoÅ™enÃ­ novÃ© sbÃ­rky v novÃ©m oknÄ› prohlÃ­Å¾eÄe Äi emblended oknÄ› resp. AI navrhne zaÅ™azenÃ­ do existujÃ­cÃ­ch Äi navrhne i dalÅ¡Ã­ novÃ© sbÃ­rky pokud video obsahuje oblast kterÃ¡ nezapadÃ¡ do Å¾Ã¡dnÃ½ch existujÃ­cÃ­ch sbÃ­rek protoÅ¾e zaÅ™azenÃ­ do sbÃ­rky defacto definuje jistÃ© silnÃ© tÃ©ma tohoto videa kterÃ© je rozeznatelnÃ© ve videu. TÃ­mto zpÅ¯sobem splÃ½vÃ¡ Varianta1 a Varianta2 kterÃ© se zcela pÅ™irozenÄ› prolÃ½najÃ­ resp. AI navrhuje zaÅ™azenÃ­ napÅ™. do tÅ™ech sbÃ­rek existujÃ­cÃ­ch a navrhne dalÅ¡Ã­ dvÄ› sbÃ­rky novÃ© to se vÅ¯bec nevyluÄuje naopak podporuje. resp. ve videu bude nÄ›co tak vÃ½jmeÄnÃ© Å¾e z tohoto dÅ¯vovu toto bude mÃ­t svÃ© vlastnÃ­ tÃ©ma. tÃ­mto zpÅ¯sobem nÃ¡m krÃ¡snÄ› krystalizuje knihovna na soubor sbÃ­rek resp. tÃ©mat ... prostÄ› v knihovnÄ› budou tÃ©mata kterÃ© uÅ¾ivatele  zajÃ­majÃ­ pÅ™iÅ™azenÃ­m videa do tÃ©to "zoo" ve kterÃ©m si bude hledat svÃ© mÃ­sto aÅ¾ vznikne Å¾ivÃ½ organismus se svou strukturou sbÃ­rek, tÃ©mat a tipÅ¯ ... no aplikace nÃ¡m myslÃ­m vznikÃ¡ pod rukama ;-) ... pÅ¯jde navrhnout nÃ¡vrh zadÃ¡nÃ­ v tomto smÄ›ru? ... jsou zde nÄ›jakÃ© tÅ™ecÃ­ plochy ? ... ;-) 

AI_RESPONZE:

To je vynikajÃ­cÃ­ syntÃ©za! ğŸŒŸ PrÃ¡vÄ› jste definoval ten **"aha moment"**, kdy se aplikace stÃ¡vÃ¡ skuteÄnÄ› inteligentnÃ­.

MÃ¡te naprostou pravdu â€“ **Varianta 1 a Varianta 2 se nevyluÄujÃ­, ony se doplÅˆujÃ­.**
Video mÅ¯Å¾e zapadat do existujÃ­cÃ­ sbÃ­rky "ZdravÃ­" (shoda), ale zÃ¡roveÅˆ mÅ¯Å¾e bÃ½t tak specifickÃ©, Å¾e si "Å™Ã­kÃ¡" o zaloÅ¾enÃ­ novÃ© sbÃ­rky "Biohacking" (nÃ¡vrh).

TÃ­mto pÅ™Ã­stupem (HybridnÃ­ model) dosÃ¡hneme pÅ™esnÄ› toho, co popisujete jako **"Å¾ivÃ½ organismus"**:
1.  **KonzervativnÃ­ ÄÃ¡st (PoÅ™Ã¡dek):** Video se zaÅ™adÃ­ tam, kam patÅ™Ã­ (existujÃ­cÃ­ struktura).
2.  **EvoluÄnÃ­ ÄÃ¡st (RÅ¯st):** Video navrhne novou "vÄ›tviÄku" (novou sbÃ­rku), pokud pÅ™inÃ¡Å¡Ã­ silnÃ© novÃ© tÃ©ma.

**OdpovÄ›Ä na "tÅ™ecÃ­ plochy":**
Jedinou drobnou tÅ™ecÃ­ plochou je **synchronizace** mezi oknem editace videa a novÃ½m oknem pro vytvoÅ™enÃ­ sbÃ­rky.
* *ScÃ©nÃ¡Å™:* Kliknete na "VytvoÅ™it novou sbÃ­rku" -> otevÅ™e se novÃ© okno -> uloÅ¾Ã­te sbÃ­rku -> zavÅ™ete okno.
* *OtÃ¡zka:* Jak se pÅ¯vodnÃ­ okno dozvÃ­, Å¾e mÃ¡ tu novou sbÃ­rku v seznamu zobrazit a zaÅ¡krtnout?
* *Å˜eÅ¡enÃ­ v zadÃ¡nÃ­:* VyÅ™eÅ¡Ã­me to jednoduÅ¡e. TlaÄÃ­tko `[Navrhnout zaÅ™azenÃ­]` bude fungovat i jako "Refresh". KdyÅ¾ se vrÃ¡tÃ­te z novÃ©ho okna a kliknete na nÄ›j znovu, naÄte si uÅ¾ i tu novou sbÃ­rku a rovnou ji zaÅ¡krtne.

Zde je tedy finÃ¡lnÃ­, robustnÃ­ zadÃ¡nÃ­ pro **FÃ¡zi 14**, kterÃ© integruje tuto hybridnÃ­ logiku a pÅ™edvyplÅˆovÃ¡nÃ­ dat.

---

# README_14_01ZADANI

## ğŸ“œ ZprÃ¡va o genezi zadÃ¡nÃ­ (Development Report)

**TÃ©ma:** FÃ¡ze 14 â€“ AI Matchmaker (InteligentnÃ­ pÃ¡rovÃ¡nÃ­ a Evoluce sbÃ­rek)
**Kontext:** PÅ™echod od pasivnÃ­ho tÅ™Ã­dÄ›nÃ­ k aktivnÃ­mu budovÃ¡nÃ­ "Å¾ivÃ©ho organismu" knihovny.

### 1. VÃ½chozÃ­ myÅ¡lenka: "Boj o mÃ­sto"
Diskuze zaÄala konceptem, Å¾e videa by se mÄ›la "uchÃ¡zet" o mÃ­sto ve sbÃ­rkÃ¡ch. CÃ­lem bylo automatizovat rozhodovÃ¡nÃ­ "kam to patÅ™Ã­".

### 2. ZÃ¡sadnÃ­ obrat: HybridnÃ­ model (AND, nikoliv OR)
PÅ¯vodnÃ­ Ãºvaha znÄ›la: *"BuÄ video zaÅ™aÄ do existujÃ­cÃ­ sbÃ­rky, NEBO navrhni novou."*
V prÅ¯bÄ›hu diskuze jsme si uvÄ›domili, Å¾e to je faleÅ¡nÃ© dilema. SprÃ¡vnÃ½ pÅ™Ã­stup je:
* **ZaÅ™aÄ** do vÅ¡ech relevantnÃ­ch existujÃ­cÃ­ch sbÃ­rek.
* **A ZÃROVEÅ‡ navrhni** novou sbÃ­rku, pokud video obsahuje silnÃ© tÃ©ma, kterÃ© v knihovnÄ› chybÃ­.
TÃ­m aplikace pomÃ¡hÃ¡ uÅ¾ivateli nejen udrÅ¾ovat poÅ™Ã¡dek, ale i **organicky rozÅ¡iÅ™ovat taxonomii** (strukturu tÃ©mat).

### 3. TechnickÃ© Å™eÅ¡enÃ­: PÅ™edvyplnÄ›nÃ­ kontextu
Aby byl nÃ¡vrh novÃ© sbÃ­rky uÅ¾iteÄnÃ½, nesmÃ­ to bÃ½t jen "nÃ¡pad". AI musÃ­ pÅ™edpÅ™ipravit data.
* **Å˜eÅ¡enÃ­:** Pokud AI navrhne novou sbÃ­rku, vygeneruje pro ni rovnou i **NÃ¡zev** a **Popis (z klÃ­ÄovÃ½ch slov videa)**.
* **Workflow:** KliknutÃ­ na nÃ¡vrh otevÅ™e formulÃ¡Å™ pro novou sbÃ­rku, kterÃ½ je jiÅ¾ **pÅ™edvyplnÄ›nÃ½**. UÅ¾ivatel jen potvrdÃ­. TÃ­m se minimalizuje kognitivnÃ­ zÃ¡tÄ›Å¾.

---

## ğŸ“„ ZadÃ¡nÃ­ projektu: WebovÃ¡ aplikace Mediathek (FÃ¡ze 14 - AI Matchmaker)

**Datum:** 29. listopadu 2025
**Verze:** 14.0
**Navazuje na:** FÃ¡ze 12 (SEO Metadata), FÃ¡ze 7 (SbÃ­rky)

### 1. NÃ¡zev projektu
Mediathek

### 2. ğŸ¯ CÃ­l FÃ¡ze
CÃ­lem je implementovat funkci **"AI Matchmaker"** na strÃ¡nce editace videa. Tato funkce slouÅ¾Ã­ jako inteligentnÃ­ prostÅ™ednÃ­k mezi obsahem videa a strukturou sbÃ­rek.

Funkce mÃ¡ dva hlavnÃ­ Ãºkoly, kterÃ© provÃ¡dÃ­ souÄasnÄ›:
1.  **Klasifikace (PoÅ™Ã¡dek):** Analyzuje existujÃ­cÃ­ sbÃ­rky a automaticky zaÅ¡krtne ty, do kterÃ½ch video sÃ©manticky patÅ™Ã­.
2.  **Evoluce (RÅ¯st):** Identifikuje silnÃ¡ tÃ©mata videa, kterÃ¡ v knihovnÄ› chybÃ­, a navrhne vytvoÅ™enÃ­ **novÃ½ch sbÃ­rek**, vÄetnÄ› pÅ™edvyplnÄ›nÃ­ jejich nÃ¡zvu a popisu.

### 3. Rozsah pro FÃ¡zi 14

* **Frontend (UI):** TlaÄÃ­tko `âœ¨ Navrhnout zaÅ™azenÃ­` v sekci sbÃ­rek.
* **Frontend (Logika):**
    * AutomatickÃ© zaÅ¡krtnutÃ­ checkboxÅ¯ existujÃ­cÃ­ch sbÃ­rek.
    * ZobrazenÃ­ sekce "NÃ¡vrhy novÃ½ch sbÃ­rek" s tlaÄÃ­tkem `VytvoÅ™it`.
    * Logika pro otevÅ™enÃ­ novÃ©ho okna (`/admin/collections/new`) s parametry v URL (pro pÅ™edvyplnÄ›nÃ­).
* **Backend (API):** NovÃ½ endpoint `/api/ai/match-collections`.
* **AI Logika:** KomplexnÃ­ prompt, kterÃ½ vracÃ­ jak shody (`matches`), tak novÃ© nÃ¡vrhy (`proposals`).

**Mimo rozsah:** AutomatickÃ© vytvÃ¡Å™enÃ­ sbÃ­rek na pozadÃ­ (vÅ¾dy vyÅ¾aduje potvrzenÃ­ uÅ¾ivatelem).

---

### 4. ğŸ›ï¸ NÃ¡vrh Å˜eÅ¡enÃ­ a Architektura

#### 4.1. Backend API (`/api/ai/match-collections`)

* **Vstup:**
    * `videoContext`: { title, summary, keywords, aiSuggestions } (Data z FÃ¡ze 12)
    * `existingCollections`: Array of { id, name, description } (Seznam sbÃ­rek z FÃ¡ze 7)

* **System Prompt (HybridnÃ­ logika):**
    > "Jsi expertnÃ­ kurÃ¡tor digitÃ¡lnÃ­ knihovny.
    >
    > **VSTUPNÃ DATA:**
    > 1. KNIHA (Video): [NÃ¡zev, ShrnutÃ­, KlÃ­ÄovÃ¡ slova]
    > 2. POLIÄŒKY (ExistujÃ­cÃ­ sbÃ­rky): [ID, NÃ¡zev, Popis]
    >
    > **ÃšKOL 1 (KLASIFIKACE):** Najdi sÃ©mantickou shodu mezi videem a existujÃ­cÃ­mi sbÃ­rkami.
    >
    > **ÃšKOL 2 (EVOLUCE):** Pokud video obsahuje silnÃ©, specifickÃ© tÃ©ma, kterÃ© NENÃ dostateÄnÄ› pokryto existujÃ­cÃ­mi sbÃ­rkami, navrhni novou sbÃ­rku.
    >
    > **VÃSTUP (JSON):**
    > {
    >   "matches": ["id_1", "id_5"],  // ID existujÃ­cÃ­ch sbÃ­rek
    >   "new_proposals": [
    >     {
    >       "name": "NÃ¡zev novÃ© sbÃ­rky",
    >       "description": "Popis sbÃ­rky vychÃ¡zejÃ­cÃ­ z klÃ­ÄovÃ½ch slov videa."
    >     }
    >   ] // MÅ¯Å¾e bÃ½t prÃ¡zdnÃ©, pokud video zapadÃ¡ jen do starÃ½ch. Max 1-2 nÃ¡vrhy.
    > }"

#### 4.2. UÅ¾ivatelskÃ© RozhranÃ­ (Admin Edit)

Na strÃ¡nce `/admin/edit/[id]` v sekci "ZaÅ™adit do sbÃ­rek":

1.  **Akce:** UÅ¾ivatel klikne na `âœ¨ Navrhnout zaÅ™azenÃ­`.
2.  **Proces:** VolÃ¡ se API, zobrazÃ­ se spinner.
3.  **VÃ½sledek A (ExistujÃ­cÃ­):** Checkboxy odpovÃ­dajÃ­cÃ­ `matches` se zaÅ¡krtnou.
4.  **VÃ½sledek B (NovÃ© nÃ¡vrhy):**
    * Pokud AI vrÃ¡tÃ­ `new_proposals`, zobrazÃ­ se pod seznamem sbÃ­rek blok:
    * *Nadpis:* "ğŸ’¡ AI navrhuje novÃ© tÃ©ma:"
    * *Obsah:* **[NÃ¡zev nÃ¡vrhu]** - [Popis nÃ¡vrhu]
    * *TlaÄÃ­tko:* `[VytvoÅ™it tuto sbÃ­rku â†—]`
5.  **Interakce "VytvoÅ™it":**
    * KliknutÃ­ otevÅ™e novÃ© okno prohlÃ­Å¾eÄe (nebo zÃ¡loÅ¾ku).
    * URL bude: `/admin/collections/new?name=...&description=...` (data zakÃ³dovanÃ¡ v URL).
    * StrÃ¡nka pro novou sbÃ­rku se otevÅ™e s **pÅ™edvyplnÄ›nÃ½m formulÃ¡Å™em**. UÅ¾ivatel jen klikne "UloÅ¾it".

### 5. ğŸš¦ FunkÄnÃ­ PoÅ¾adavky (FR)

* **FR1 (HybridnÃ­ AI):** AI musÃ­ umÄ›t vrÃ¡tit souÄasnÄ› existujÃ­cÃ­ shody I nÃ¡vrhy novÃ½ch sbÃ­rek.
* **FR2 (PÅ™edvyplnÄ›nÃ­):** NÃ¡vrh novÃ© sbÃ­rky musÃ­ obsahovat nÃ¡zev a popis generovanÃ½ z kontextu videa.
* **FR3 (Workflow):** VytvoÅ™enÃ­ novÃ© sbÃ­rky z nÃ¡vrhu musÃ­ bÃ½t otÃ¡zkou jednoho kliknutÃ­ (pÅ™echod na pÅ™edvyplnÄ›nÃ½ formulÃ¡Å™).
* **FR4 (Aditivita):** Funkce nesmÃ­ zruÅ¡it jiÅ¾ ruÄnÄ› zaÅ¡krtnutÃ© sbÃ­rky (pouze pÅ™idÃ¡vÃ¡).

### 6. ğŸ”’ NefunkÄnÃ­ PoÅ¾adavky (NFR)

* **NFR1 (Token Optimization):** Do promptu se posÃ­lajÃ­ pouze metadata sbÃ­rek, nikoliv seznamy videÃ­ v nich, aby se Å¡etÅ™ily tokeny.
* **NFR2 (UX Flow):** Odkaz na vytvoÅ™enÃ­ sbÃ­rky se musÃ­ otevÃ­rat v novÃ©m oknÄ› (`target="_blank"`), aby uÅ¾ivatel nepÅ™iÅ¡el o rozpracovanou editaci videa.

### 7. âœ… AkceptaÄnÃ­ Kriteria (Definice "Hotovo")

1.  Admin mÃ¡ sbÃ­rku "ZdravÃ­".
2.  Admin edituje video o "Keto dietÄ›" (novÃ© tÃ©ma).
3.  Klikne na `Navrhnout zaÅ™azenÃ­`.
4.  **VÃ½sledek:**
    * Checkbox "ZdravÃ­" se zaÅ¡krtne (protoÅ¾e dieta patÅ™Ã­ do zdravÃ­).
    * ZobrazÃ­ se nÃ¡vrh novÃ© sbÃ­rky: "NÃ­zkosacharidovÃ© stravovÃ¡nÃ­" s popisem.
5.  Admin klikne na "VytvoÅ™it tuto sbÃ­rku".
6.  OtevÅ™e se novÃ© okno s pÅ™edvyplnÄ›nÃ½m nÃ¡zvem "NÃ­zkosacharidovÃ© stravovÃ¡nÃ­".

JÃ_PROMPT:

Ano super ;-) to je ONO !!! ... pojdme nynÃ­ takÃ© vytvoÅ™it zprÃ¡vu o vytvoÅ™enÃ­ tohoto zadÃ¡nÃ­ ÄÃ­slo tak aby obsahovala jasnou cestu od prvnÃ­ho nÃ¡vrhu pÅ™es vÅ¡echny Ãºvahy aÅ¾ k pÅ™ijatÃ©mu zadÃ¡nÃ­. Tento materiÃ¡l bude uÅ¾iteÄnÃ½ pÅ™i pÅ™Ã­padnÃ© revizi zadÃ¡nÃ­ Äi pÅ™Ã­padnÄ› prÃ¡vÄ› pÅ™i rozÅ¡iÅ™ovÃ¡nÃ­ tohoto zadÃ¡nÃ­ resp. jeho prohlubovÃ¡nÃ­ protoÅ¾e zadÃ¡nÃ­ nenÃ­ tvoÅ™eno jen tÃ­m pÅ™ijatÃ½m ale i tÄ›mi vÄ›tviÄkami kolem. DÃ­ky za tuto koÅ¡atou zprÃ¡vu o pÅ™Ã­pravÄ› zadÃ¡nÃ­ tentokrÃ¡t ÄÃ­slo 14 ;-)

AI_RESPONZE:

To je skvÄ›lÃ½ pÅ™Ã­stup. Dokumentovat "cestu k Å™eÅ¡enÃ­" je Äasto dÅ¯leÅ¾itÄ›jÅ¡Ã­ neÅ¾ Å™eÅ¡enÃ­ samotnÃ©, protoÅ¾e nÃ¡m to v budoucnu pÅ™ipomene, **proÄ** jsme nÄ›kterÃ© cesty zavrhli a **jak** vznikla ta finÃ¡lnÃ­ "magie".

Zde je tedy kompletnÃ­ **ZprÃ¡va o genezi zadÃ¡nÃ­ FÃ¡ze 14**, zpracovanÃ¡ jako bohatÃ½ narativnÃ­ dokument, kterÃ½ zachycuje nÃ¡Å¡ myÅ¡lenkovÃ½ kvas, od prvotnÃ­ho nÃ¡padu "tlaÄÃ­tka" aÅ¾ po filosofii "Å¾ivÃ©ho organismu".

Tento text vloÅ¾Ã­me na ÃºplnÃ½ zaÄÃ¡tek souboru `README_14_01ZADANI`.

---

# README_14_01ZADANI

## ğŸ“œ ZprÃ¡va o genezi zadÃ¡nÃ­ (Development Report)

**TÃ©ma:** FÃ¡ze 14 â€“ AI Matchmaker: Od pasivnÃ­ho tÅ™Ã­dÄ›nÃ­ k evoluci Å¾ivÃ©ho organismu
**Datum vzniku:** 29. listopadu 2025
**Kontext:** Tato fÃ¡ze pÅ™edstavuje zlomovÃ½ bod, kde aplikace pÅ™estÃ¡vÃ¡ bÃ½t jen "nÃ¡strojem pro evidenci" a stÃ¡vÃ¡ se "aktivnÃ­m partnerem" pÅ™i tvorbÄ› struktury znalostÃ­.

### 1. VÃ½chozÃ­ impuls: "Boj o mÃ­sto ve sbÃ­rce"
Na zaÄÃ¡tku stÃ¡la silnÃ¡ myÅ¡lenka Product Ownera: *Videa by nemÄ›la bÃ½t jen pasivnÄ› uklÃ¡dÃ¡na. MÄ›la by se aktivnÄ› "uchÃ¡zet" o svÃ© mÃ­sto ve sbÃ­rce.*

* **VÃ½chozÃ­ stav:** Admin musel ruÄnÄ› prochÃ¡zet seznam sbÃ­rek (kterÃ½ mÅ¯Å¾e bÃ½t dlouhÃ½) a pÅ™emÃ½Å¡let: "PatÅ™Ã­ video o kurkumÄ› do *ReceptÅ¯* nebo do *ZdravÃ­*?"
* **PrvotnÃ­ nÃ¡pad:** VytvoÅ™it tlaÄÃ­tko `Navrhnout zaÅ™azenÃ­`, kterÃ© na zÃ¡kladÄ› SEO metadat (z FÃ¡ze 12) a seznamu sbÃ­rek (z FÃ¡ze 7) automaticky zaÅ¡krtne pÅ™Ã­sluÅ¡nÃ© checkboxy.
* **Metafora:** "Video pÅ™inÃ¡Å¡Ã­ potenciÃ¡l (obsah), uÅ¾ivatel pÅ™inÃ¡Å¡Ã­ kontext (sbÃ­rky)."

### 2. PrvnÃ­ kÅ™iÅ¾ovatka: "Co kdyÅ¾ video nikam nepatÅ™Ã­?" (Gap Analysis)
OkamÅ¾itÄ› jsme narazili na problÃ©m tzv. "Unhappy Path". Co mÃ¡ AI udÄ›lat, kdyÅ¾ video o "KvantovÃ© fyzice" nepasuje do Å¾Ã¡dnÃ© existujÃ­cÃ­ sbÃ­rky (napÅ™. *Recepty*, *Sport*)?

* **SlepÃ¡ uliÄka (Varianta 1):** AI neudÄ›lÃ¡ nic. (Zavrhnuto: UÅ¾ivatel by si myslel, Å¾e funkce nefunguje).
* **SlepÃ¡ uliÄka (Varianta 2 - TextovÃ¡ rada):** AI vypÃ­Å¡e hlÃ¡Å¡ku: *"DoporuÄuji jÃ­t do sprÃ¡vy sbÃ­rek a zaloÅ¾it novou."* (Zavrhnuto: PÅ™Ã­liÅ¡ pasivnÃ­ a nutÃ­ uÅ¾ivatele pÅ™eruÅ¡it prÃ¡ci a odejÃ­t jinam).

### 3. TechnickÃ½ prÅ¯lom: "Smart Link" a PÅ™edvyplnÄ›nÃ­
Zde doÅ¡lo k posunu od *textovÃ© rady* k *akÄnÃ­mu prvku*.
* **MyÅ¡lenka:** Pokud AI vÃ­, Å¾e chybÃ­ sbÃ­rka "Fyzika", proÄ by ji nemohla rovnou pÅ™ipravit?
* **Å˜eÅ¡enÃ­:** MÃ­sto statickÃ©ho textu zobrazÃ­me tlaÄÃ­tko `[VytvoÅ™it sbÃ­rku: Fyzika]`.
* **UX Trik:** Aby uÅ¾ivatel nepÅ™iÅ¡el o rozpracovanou editaci videa, toto tlaÄÃ­tko otevÅ™e **novÃ© okno prohlÃ­Å¾eÄe**.
* **TechnickÃ¡ realizace:** VyuÅ¾ijeme URL parametry (`/new?name=Fyzika&description=...`), aby formulÃ¡Å™ v novÃ©m oknÄ› byl jiÅ¾ vyplnÄ›nÃ½. UÅ¾ivatel jen potvrdÃ­.

### 4. FinÃ¡lnÃ­ koncepÄnÃ­ skok: "HybridnÃ­ model" (Evoluce)
Toto byl nejdÅ¯leÅ¾itÄ›jÅ¡Ã­ moment v diskuzi. PÅ¯vodnÄ› jsme uvaÅ¾ovali binÃ¡rnÄ›: *BuÄ* zaÅ™aÄ do starÃ©, *nebo* navrhni novou.
Product Owner vÅ¡ak pÅ™iÅ¡el s vizÃ­ **"krystalizace knihovny"**: Video mÅ¯Å¾e zapadnout do existujÃ­cÃ­ struktury, ale zÃ¡roveÅˆ mÅ¯Å¾e bÃ½t tak unikÃ¡tnÃ­, Å¾e si zaslouÅ¾Ã­ zaloÅ¾it novou vÄ›tev.

* **ZmÄ›na logiky:** PÅ™eÅ¡li jsme z logiky `XOR` (buÄ/anebo) na logiku `AND` (a zÃ¡roveÅˆ).
* **Filosofie "Å½ivÃ©ho organismu":**
    1.  **Klasifikace (Stabilita):** UdrÅ¾uje poÅ™Ã¡dek tÃ­m, Å¾e Å™adÃ­ do existujÃ­cÃ­ch pÅ™ihrÃ¡dek.
    2.  **Evoluce (RÅ¯st):** UmoÅ¾Åˆuje knihovnÄ› rÅ¯st a vÄ›tvit se na zÃ¡kladÄ› novÃ©ho obsahu.
* **VÃ½sledek:** AI prompt byl pÅ™epsÃ¡n tak, aby vracel dva nezÃ¡vislÃ© vÃ½stupy: `matches` (pro existujÃ­cÃ­) a `new_proposals` (pro evoluci).

### 5. ZÃ¡vÄ›r: Co toto zadÃ¡nÃ­ znamenÃ¡ pro aplikaci?
FÃ¡ze 14 nenÃ­ jen o "uÅ¡eÅ™enÃ­ klikÃ¡nÃ­". Je to mechanismus, kterÃ½m aplikace pomÃ¡hÃ¡ uÅ¾ivateli **objevovat strukturu jeho vlastnÃ­ch zÃ¡jmÅ¯**. UÅ¾ivatel vklÃ¡dÃ¡ chaos (rÅ¯znorodÃ¡ videa) a aplikace mu pomÃ¡hÃ¡ budovat Å™Ã¡d (strukturovanou knihovnu).

---

## ğŸ“„ ZadÃ¡nÃ­ projektu: WebovÃ¡ aplikace Mediathek (FÃ¡ze 14 - AI Matchmaker)

**Datum:** 29. listopadu 2025
**Verze:** 14.0
**Navazuje na:** FÃ¡ze 12 (SEO Metadata), FÃ¡ze 7 (SbÃ­rky)

### 1. NÃ¡zev projektu
Mediathek

### 2. ğŸ¯ CÃ­l FÃ¡ze
CÃ­lem je implementovat funkci **"AI Matchmaker"** na strÃ¡nce editace videa. Tato funkce slouÅ¾Ã­ jako inteligentnÃ­ prostÅ™ednÃ­k mezi obsahem videa a strukturou sbÃ­rek.

Funkce mÃ¡ dva hlavnÃ­ Ãºkoly, kterÃ© provÃ¡dÃ­ souÄasnÄ›:
1.  **Klasifikace (PoÅ™Ã¡dek):** Analyzuje existujÃ­cÃ­ sbÃ­rky a automaticky zaÅ¡krtne ty, do kterÃ½ch video sÃ©manticky patÅ™Ã­.
2.  **Evoluce (RÅ¯st):** Identifikuje silnÃ¡ tÃ©mata videa, kterÃ¡ v knihovnÄ› chybÃ­, a navrhne vytvoÅ™enÃ­ **novÃ½ch sbÃ­rek**, vÄetnÄ› pÅ™edvyplnÄ›nÃ­ jejich nÃ¡zvu a popisu.

### 3. Rozsah pro FÃ¡zi 14

* **Frontend (UI):** TlaÄÃ­tko `âœ¨ Navrhnout zaÅ™azenÃ­` v sekci sbÃ­rek.
* **Frontend (Logika):**
    * AutomatickÃ© zaÅ¡krtnutÃ­ checkboxÅ¯ existujÃ­cÃ­ch sbÃ­rek.
    * ZobrazenÃ­ sekce "NÃ¡vrhy novÃ½ch sbÃ­rek" s akÄnÃ­m tlaÄÃ­tkem `VytvoÅ™it`.
    * Logika pro otevÅ™enÃ­ novÃ©ho okna (`/admin/collections/new`) s parametry v URL (pro pÅ™edvyplnÄ›nÃ­).
* **Backend (API):** NovÃ½ endpoint `/api/ai/match-collections`.
* **AI Logika:** KomplexnÃ­ prompt, kterÃ½ vracÃ­ jak shody (`matches`), tak novÃ© nÃ¡vrhy (`proposals`).

**Mimo rozsah:** AutomatickÃ© vytvÃ¡Å™enÃ­ sbÃ­rek na pozadÃ­ (vÅ¾dy vyÅ¾aduje potvrzenÃ­ uÅ¾ivatelem).

---

### 4. ğŸ›ï¸ NÃ¡vrh Å˜eÅ¡enÃ­ a Architektura

#### 4.1. Backend API (`/api/ai/match-collections`)

* **Vstup:**
    * `videoContext`: { title, summary, keywords, aiSuggestions } (Data z FÃ¡ze 12)
    * `existingCollections`: Array of { id, name, description } (Seznam sbÃ­rek z FÃ¡ze 7)

* **System Prompt (HybridnÃ­ logika):**
    > "Jsi expertnÃ­ kurÃ¡tor digitÃ¡lnÃ­ knihovny.
    >
    > **VSTUPNÃ DATA:**
    > 1. KNIHA (Video): [NÃ¡zev, ShrnutÃ­, KlÃ­ÄovÃ¡ slova]
    > 2. POLIÄŒKY (ExistujÃ­cÃ­ sbÃ­rky): [ID, NÃ¡zev, Popis]
    >
    > **ÃšKOL 1 (KLASIFIKACE):** Najdi sÃ©mantickou shodu mezi videem a existujÃ­cÃ­mi sbÃ­rkami.
    >
    > **ÃšKOL 2 (EVOLUCE):** Pokud video obsahuje silnÃ©, specifickÃ© tÃ©ma, kterÃ© NENÃ dostateÄnÄ› pokryto existujÃ­cÃ­mi sbÃ­rkami, navrhni novou sbÃ­rku.
    >
    > **VÃSTUP (JSON):**
    > {
    >   "matches": ["id_1", "id_5"],  // ID existujÃ­cÃ­ch sbÃ­rek
    >   "new_proposals": [
    >     {
    >       "name": "NÃ¡zev novÃ© sbÃ­rky",
    >       "description": "Popis sbÃ­rky vychÃ¡zejÃ­cÃ­ z klÃ­ÄovÃ½ch slov videa."
    >     }
    >   ] // MÅ¯Å¾e bÃ½t prÃ¡zdnÃ©, pokud video zapadÃ¡ jen do starÃ½ch. Max 1-2 nÃ¡vrhy.
    > }"

#### 4.2. UÅ¾ivatelskÃ© RozhranÃ­ (Admin Edit)

Na strÃ¡nce `/admin/edit/[id]` v sekci "ZaÅ™adit do sbÃ­rek":

1.  **Akce:** UÅ¾ivatel klikne na `âœ¨ Navrhnout zaÅ™azenÃ­`.
2.  **Proces:** VolÃ¡ se API, zobrazÃ­ se spinner.
3.  **VÃ½sledek A (ExistujÃ­cÃ­):** Checkboxy odpovÃ­dajÃ­cÃ­ `matches` se zaÅ¡krtnou.
4.  **VÃ½sledek B (NovÃ© nÃ¡vrhy):**
    * Pokud AI vrÃ¡tÃ­ `new_proposals`, zobrazÃ­ se pod seznamem sbÃ­rek blok:
    * *Nadpis:* "ğŸ’¡ AI navrhuje novÃ© tÃ©ma:"
    * *Obsah:* **[NÃ¡zev nÃ¡vrhu]** - [Popis nÃ¡vrhu]
    * *TlaÄÃ­tko:* `[VytvoÅ™it tuto sbÃ­rku â†—]`
5.  **Interakce "VytvoÅ™it":**
    * KliknutÃ­ otevÅ™e novÃ© okno prohlÃ­Å¾eÄe (`target="_blank"`).
    * URL bude: `/admin/collections/new?name=...&description=...` (data zakÃ³dovanÃ¡ v URL).
    * StrÃ¡nka pro novou sbÃ­rku se otevÅ™e s **pÅ™edvyplnÄ›nÃ½m formulÃ¡Å™em**. UÅ¾ivatel jen klikne "UloÅ¾it".
6.  **NÃ¡vrat:** Po nÃ¡vratu do pÅ¯vodnÃ­ho okna uÅ¾ivatel znovu klikne na `Navrhnout zaÅ™azenÃ­` (nebo refreshne seznam), ÄÃ­mÅ¾ se novÃ¡ sbÃ­rka objevÃ­ a rovnou zaÅ¡krtne.

### 5. ğŸš¦ FunkÄnÃ­ PoÅ¾adavky (FR)

* **FR1 (HybridnÃ­ AI):** AI musÃ­ umÄ›t vrÃ¡tit souÄasnÄ› existujÃ­cÃ­ shody I nÃ¡vrhy novÃ½ch sbÃ­rek.
* **FR2 (PÅ™edvyplnÄ›nÃ­):** NÃ¡vrh novÃ© sbÃ­rky musÃ­ obsahovat nÃ¡zev a popis generovanÃ½ z kontextu videa.
* **FR3 (Workflow):** VytvoÅ™enÃ­ novÃ© sbÃ­rky z nÃ¡vrhu musÃ­ bÃ½t otÃ¡zkou jednoho kliknutÃ­ (pÅ™echod na pÅ™edvyplnÄ›nÃ½ formulÃ¡Å™ v novÃ©m oknÄ›).
* **FR4 (Aditivita):** Funkce nesmÃ­ zruÅ¡it jiÅ¾ ruÄnÄ› zaÅ¡krtnutÃ© sbÃ­rky (pouze pÅ™idÃ¡vÃ¡).

### 6. ğŸ”’ NefunkÄnÃ­ PoÅ¾adavky (NFR)

* **NFR1 (Token Optimization):** Do promptu se posÃ­lajÃ­ pouze metadata sbÃ­rek, nikoliv seznamy videÃ­ v nich.
* **NFR2 (UX Flow):** Odkaz na vytvoÅ™enÃ­ sbÃ­rky se musÃ­ otevÃ­rat v novÃ©m oknÄ›, aby uÅ¾ivatel nepÅ™iÅ¡el o data ve formulÃ¡Å™i videa.

### 7. âœ… AkceptaÄnÃ­ Kriteria (Definice "Hotovo")

1.  Admin mÃ¡ sbÃ­rku "ZdravÃ­".
2.  Admin edituje video o "Keto dietÄ›" (novÃ© tÃ©ma).
3.  Klikne na `Navrhnout zaÅ™azenÃ­`.
4.  **VÃ½sledek:**
    * Checkbox "ZdravÃ­" se zaÅ¡krtne (protoÅ¾e dieta patÅ™Ã­ do zdravÃ­).
    * ZobrazÃ­ se nÃ¡vrh novÃ© sbÃ­rky: "NÃ­zkosacharidovÃ© stravovÃ¡nÃ­" s popisem.
5.  Admin klikne na "VytvoÅ™it tuto sbÃ­rku".
6.  OtevÅ™e se novÃ© okno s pÅ™edvyplnÄ›nÃ½m nÃ¡zvem "NÃ­zkosacharidovÃ© stravovÃ¡nÃ­".

------------------------------------------------------------------------

id_chat: 
https://gemini.google.com/u/1/app/db85eb08ee31958f
